@model IEnumerable<Generate_TestCase_Selenium_Web.Models.ModelDB.Url>

@{
    ViewData["Title"] = "Urls";
    Layout = "~/Views/Shared/_LayoutManage.cshtml";
}

<h2>Urls</h2>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item"><a asp-area="TestCase" asp-controller="Manage" asp-action="Projects">Project</a></li>
    <li class="breadcrumb-item active">Url</li>
</ol>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Create New Url
</button>
<br />
<br />
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            @using (Html.BeginForm("AddNewUrl", "Manage", FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data", @class = "dropzone dropzone-custom needsclick add-professors dz-clickable", @id = "createform", @novalidate = "novalidate", @name = "createform" }))
            {
                @Html.ValidationSummary(true, null, new { @class = "alert alert-block alert-danger fade in" })
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel" style="color:red">Create Project</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input name="project_id" id="project_id" class="form-control" value="@ViewBag.project_id" hidden readonly/>
                    <div class="row form-group">
                        <div class="col col-md-3">@Html.Label("Name") <span style="color:red;">*</span></div>
                        <div class="col-12 col-md-9">
                            <input type="text" name="name" class="input-md form-control" id="name" required placeholder="Name">

                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col col-md-3">@Html.Label("Url") <span style="color:red;">*</span></div>
                        <div class="col-12 col-md-9">
                            <input type="text" name="url1" class="input-md form-control" id="url1" placeholder="Url">

                        </div>
                    </div>
                    <div class="row form-group">
                        @*<div class="col col-md-3">@Html.Label("Url")</div>*@
                        <div class="col-12 col-md-12">
                            <input type="checkbox" id="IsOnlyDislayed" name="IsOnlyDislayed" checked value="true"> <label for="vehicle1">Only element is displayed</label><br>

                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" onclick="return IsEmpty();">Create</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>

            }


        </div>
    </div>
</div>
<partial name="~/Views/Shared/_StatusMessage.cshtml" model="@ViewBag.Message" />
<div class="card mb-4">
    <div class="card-header"><i class="fas fa-table mr-1"></i>Url list</div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-condensed table-hover table-bordered" id="exam">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayName("Name")
                        </th>
                        <th>
                            @Html.DisplayName("url")
                        </th>
                        <th>
                            @Html.DisplayName("Created Date")
                        </th>
                        <th>
                            @Html.DisplayName("Modified Date")
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.url1)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CreatedDate)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ModifiedDate)
                            </td>

                            <td>
                                <a asp-action="Edit" asp-route-id="@item.id_url">Edit</a> |
                                <a asp-action="Details" asp-route-id="@item.id_url">Details</a> |
                                <a asp-action="Delete" asp-route-id="@item.id_url">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>

    function IsEmpty() {
        if (document.getElementById("url1").value === "" || document.getElementById("name").value === "") {
            alert("Name and Url required")
            return false;
        }
        return true;
    }
    $(document).ready(function () {
        $('#exam').DataTable(
            {
                "lengthMenu": [[10, 25, 50, - 1], [10, 25, 50, "All record"]],
                "ordering": false,


            }
        );
    });
</script>